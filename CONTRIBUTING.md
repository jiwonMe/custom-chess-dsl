# Contributing to ChessLang ğŸ¤

ChessLangì— ê¸°ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [í–‰ë™ ê°•ë ¹](#í–‰ë™-ê°•ë ¹)
- [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)
- [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì½”ë”© ì»¨ë²¤ì…˜](#ì½”ë”©-ì»¨ë²¤ì…˜)
- [ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™](#ì»¤ë°‹-ë©”ì‹œì§€-ê·œì¹™)
- [í’€ ë¦¬í€˜ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤](#í’€-ë¦¬í€˜ìŠ¤íŠ¸-í”„ë¡œì„¸ìŠ¤)
- [í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](#í…ŒìŠ¤íŠ¸-ê°€ì´ë“œ)
- [ì´ìŠˆ ë¦¬í¬íŒ…](#ì´ìŠˆ-ë¦¬í¬íŒ…)

## í–‰ë™ ê°•ë ¹

ì´ í”„ë¡œì íŠ¸ëŠ” ëª¨ë“  ì°¸ì—¬ìê°€ ì¡´ì¤‘ë°›ëŠ” í™˜ê²½ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•©ë‹ˆë‹¤:

- ë‹¤ì–‘ì„±ê³¼ í¬ìš©ì„±ì„ ì¡´ì¤‘í•©ë‹ˆë‹¤
- ê±´ì„¤ì ì¸ í”¼ë“œë°±ì„ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤
- ì»¤ë®¤ë‹ˆí‹°ì— ë„ì›€ì´ ë˜ëŠ” ê²°ì •ì„ ìš°ì„ í•©ë‹ˆë‹¤

## ì‹œì‘í•˜ê¸°

### ê¸°ì—¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•

1. **ë²„ê·¸ ë¦¬í¬íŠ¸**: ë²„ê·¸ë¥¼ ë°œê²¬í•˜ë©´ ì´ìŠˆë¡œ ë“±ë¡í•´ì£¼ì„¸ìš”
2. **ê¸°ëŠ¥ ì œì•ˆ**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì•„ì´ë””ì–´ê°€ ìˆë‹¤ë©´ ê³µìœ í•´ì£¼ì„¸ìš”
3. **ë¬¸ì„œ ê°œì„ **: ë¬¸ì„œì˜ ì˜¤ë¥˜ ìˆ˜ì •ì´ë‚˜ ê°œì„ 
4. **ì½”ë“œ ê¸°ì—¬**: ë²„ê·¸ ìˆ˜ì •ì´ë‚˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„
5. **í…ŒìŠ¤íŠ¸ ì¶”ê°€**: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ

### ì²« ê¸°ì—¬ë¥¼ ìœ„í•œ ì¢‹ì€ ì´ìŠˆ

- `good first issue` ë¼ë²¨ì´ ë¶™ì€ ì´ìŠˆë¥¼ ì°¾ì•„ë³´ì„¸ìš”
- `help wanted` ë¼ë²¨ì´ ë¶™ì€ ì´ìŠˆë„ ê¸°ì—¬í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤

## ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18.0.0 ì´ìƒ
- npm ë˜ëŠ” yarn
- Git

### ì„¤ì¹˜ ê³¼ì •

```bash
# 1. ì €ì¥ì†Œ í¬í¬ í›„ í´ë¡ 
git clone https://github.com/YOUR_USERNAME/custom-chess-dsl.git
cd custom-chess-dsl

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. ë¹Œë“œ
npm run build

# 4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test

# 5. ê°œë°œ ì„œë²„ ì‹¤í–‰ (ì›¹ ì•±)
cd chesslang-web && npm run dev
```

### ê°œë°œ ì›Œí¬í”Œë¡œìš°

```bash
# í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°œë°œ (watch ëª¨ë“œ)
npm run dev

# ì›¹ ì•± ê°œë°œ
cd chesslang-web && npm run dev

# ë¦°íŠ¸ ê²€ì‚¬
npm run lint

# ì½”ë“œ í¬ë§·íŒ…
npm run format
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
chesslang/
â”œâ”€â”€ src/                    # í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì†ŒìŠ¤
â”‚   â”œâ”€â”€ types/              # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ lexer/              # í† í°í™” (Lexer)
â”‚   â”‚   â”œâ”€â”€ index.ts        # Lexer í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ scanner.ts      # ë¬¸ì ìŠ¤ìºë„ˆ
â”‚   â”‚   â””â”€â”€ tokens.ts       # í† í° íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ parser/             # AST íŒŒì„œ
â”‚   â”‚   â””â”€â”€ index.ts        # Parser í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ compiler/           # AST â†’ CompiledGame
â”‚   â”‚   â””â”€â”€ index.ts        # Compiler í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ engine/             # ê²Œì„ ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ board.ts        # Board í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ game.ts         # GameEngine í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ moves.ts        # ì´ë™ ìƒì„± ë¡œì§
â”‚   â”‚   â””â”€â”€ position.ts     # ìœ„ì¹˜ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ ai/                 # AI êµ¬í˜„
â”‚   â”‚   â”œâ”€â”€ minimax-ai.ts   # Minimax ì•Œê³ ë¦¬ì¦˜
â”‚   â”‚   â””â”€â”€ random-ai.ts    # ëœë¤ AI
â”‚   â””â”€â”€ stdlib/             # í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚       â”œâ”€â”€ standard-chess.ts  # í‘œì¤€ ì²´ìŠ¤ ê·œì¹™
â”‚       â””â”€â”€ variants.ts     # ì²´ìŠ¤ ë³€í˜•
â”œâ”€â”€ chesslang-web/          # Next.js ì›¹ ì•±
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/            # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ components/     # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ hooks/          # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ stores/         # Zustand ìŠ¤í† ì–´
â”‚   â”‚   â””â”€â”€ lib/            # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ content/docs/       # MDX ë¬¸ì„œ
â””â”€â”€ tests/                  # í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ engine/             # ì—”ì§„ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ lexer/              # ë ‰ì„œ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ parser/             # íŒŒì„œ í…ŒìŠ¤íŠ¸
    â””â”€â”€ integration/        # í†µí•© í…ŒìŠ¤íŠ¸
```

## ì½”ë”© ì»¨ë²¤ì…˜

### TypeScript

```typescript
// âœ… ì¢‹ì€ ì˜ˆ
interface PieceDefinition {
  type: string;
  movePattern: Pattern;
  capturePattern?: Pattern;
  traits: Set<string>;
}

// âŒ ë‚˜ìœ ì˜ˆ (any ì‚¬ìš©)
function getPiece(id: any): any {
  // ...
}
```

### ëª…ëª… ê·œì¹™

| ì¢…ë¥˜ | ê·œì¹™ | ì˜ˆì‹œ |
|------|------|------|
| ë³€ìˆ˜/í•¨ìˆ˜ | camelCase | `getLegalMoves`, `pieceId` |
| í´ë˜ìŠ¤/ì¸í„°í˜ì´ìŠ¤ | PascalCase | `GameEngine`, `PieceDefinition` |
| ìƒìˆ˜ | UPPER_SNAKE_CASE | `STANDARD_PIECES`, `MAX_DEPTH` |
| íŒŒì¼ | kebab-case | `game-engine.ts`, `standard-chess.ts` |

### íŒŒì¼ êµ¬ì¡°

- í•œ íŒŒì¼ë‹¹ 300ì¤„ ì´í•˜ ìœ ì§€
- ê´€ë ¨ ê¸°ëŠ¥ì€ ê°™ì€ ë””ë ‰í† ë¦¬ì— ê·¸ë£¹í™”
- ìˆœí™˜ ì˜ì¡´ì„± í”¼í•˜ê¸°

### í•¨ìˆ˜ ì‘ì„± ì›ì¹™

```typescript
// âœ… í•œ ê°€ì§€ ì—­í• ë§Œ ìˆ˜í–‰
function isInCheck(board: Board, player: Player): boolean {
  const kingPos = findKingPosition(board, player);
  return isPositionAttacked(board, kingPos, opponent(player));
}

// âŒ ì—¬ëŸ¬ ì—­í•  í˜¼í•©
function checkAndMakeMove(board: Board, move: Move): boolean {
  // ì²´í¬ ê²€ì‚¬, ì´ë™ ì‹¤í–‰, ìƒíƒœ ì—…ë°ì´íŠ¸ ë“± í˜¼í•©
}
```

### ì£¼ì„

```typescript
/**
 * ì§€ì •ëœ ìœ„ì¹˜ì—ì„œ ê°€ëŠ¥í•œ ëª¨ë“  ì´ë™ì„ ìƒì„±í•©ë‹ˆë‹¤.
 *
 * @param board - í˜„ì¬ ë³´ë“œ ìƒíƒœ
 * @param piece - ì´ë™í•  ê¸°ë¬¼
 * @returns ê°€ëŠ¥í•œ ì´ë™ ëª©ë¡
 */
function generateMoves(board: Board, piece: Piece): Move[] {
  // êµ¬í˜„
}
```

## ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

### í˜•ì‹

```
<type>(<scope>): <subject>

<body>

<footer>
```

### íƒ€ì…

| íƒ€ì… | ì„¤ëª… |
|------|------|
| `feat` | ìƒˆë¡œìš´ ê¸°ëŠ¥ |
| `fix` | ë²„ê·¸ ìˆ˜ì • |
| `docs` | ë¬¸ì„œ ë³€ê²½ |
| `style` | ì½”ë“œ í¬ë§·íŒ… (ë¡œì§ ë³€ê²½ ì—†ìŒ) |
| `refactor` | ë¦¬íŒ©í† ë§ |
| `test` | í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì • |
| `chore` | ë¹Œë“œ, ì„¤ì • ë“± ê¸°íƒ€ ë³€ê²½ |

### ì˜ˆì‹œ

```bash
# ìƒˆ ê¸°ëŠ¥
feat(engine): add castling move generation

# ë²„ê·¸ ìˆ˜ì •
fix(parser): handle empty trigger blocks correctly

# ë¬¸ì„œ
docs(readme): add installation instructions

# ë¦¬íŒ©í† ë§
refactor(lexer): extract token scanning logic
```

## í’€ ë¦¬í€˜ìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤

### 1. ë¸Œëœì¹˜ ìƒì„±

```bash
# ê¸°ëŠ¥ ë¸Œëœì¹˜
git checkout -b feat/new-feature

# ë²„ê·¸ ìˆ˜ì • ë¸Œëœì¹˜
git checkout -b fix/bug-description
```

### 2. ë³€ê²½ì‚¬í•­ ì»¤ë°‹

```bash
git add .
git commit -m "feat(engine): add en passant support"
```

### 3. í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸

```bash
npm run test
npm run lint
```

### 4. PR ìƒì„±

- ëª…í™•í•œ ì œëª©ê³¼ ì„¤ëª… ì‘ì„±
- ê´€ë ¨ ì´ìŠˆ ë§í¬
- ë³€ê²½ì‚¬í•­ ìš”ì•½
- í…ŒìŠ¤íŠ¸ ë°©ë²• ì„¤ëª…

### PR ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•©ë‹ˆë‹¤
- [ ] ë¦°íŠ¸ ì—ëŸ¬ê°€ ì—†ìŠµë‹ˆë‹¤
- [ ] ìƒˆ ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤
- [ ] ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤ (í•´ë‹¹ë˜ëŠ” ê²½ìš°)
- [ ] ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì»¨ë²¤ì…˜ì„ ë”°ë¦…ë‹ˆë‹¤

## í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
npm run test

# íŠ¹ì • íŒŒì¼
npm run test -- tests/engine/game.test.ts

# ì›Œì¹˜ ëª¨ë“œ
npm run test -- --watch

# ì»¤ë²„ë¦¬ì§€
npm run test:coverage
```

### í…ŒìŠ¤íŠ¸ ì‘ì„±

```typescript
import { describe, it, expect, beforeEach } from 'vitest';
import { GameEngine } from '../src/engine/game';

describe('GameEngine', () => {
  let engine: GameEngine;

  beforeEach(() => {
    engine = new GameEngine(STANDARD_CHESS);
  });

  it('should generate legal moves for starting position', () => {
    const moves = engine.getLegalMoves();
    // í° 16ê°œ ì´ë™ + ë‚˜ì´íŠ¸ 4ê°œ ì´ë™ = 20
    expect(moves.length).toBe(20);
  });

  it('should detect checkmate', () => {
    // Fool's mate ì„¤ì •
    engine.makeMove(/* e4 */);
    engine.makeMove(/* f6 */);
    engine.makeMove(/* Bc4 */);
    engine.makeMove(/* g5 */);
    engine.makeMove(/* Qh5 */);

    expect(engine.isCheckmate()).toBe(true);
  });
});
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

- `describe`: í…ŒìŠ¤íŠ¸ ê·¸ë£¹
- `it` / `test`: ê°œë³„ í…ŒìŠ¤íŠ¸
- `beforeEach` / `afterEach`: ì„¤ì •/ì •ë¦¬
- `expect`: ë‹¨ì–¸ë¬¸

## ì´ìŠˆ ë¦¬í¬íŒ…

### ë²„ê·¸ ë¦¬í¬íŠ¸

ë²„ê·¸ ë¦¬í¬íŠ¸ì—ëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”:

1. **ë²„ê·¸ ì„¤ëª…**: ë¬´ì—‡ì´ ì˜ëª»ë˜ì—ˆë‚˜ìš”?
2. **ì¬í˜„ ë‹¨ê³„**: ë²„ê·¸ë¥¼ ì¬í˜„í•˜ëŠ” ë°©ë²•
3. **ì˜ˆìƒ ë™ì‘**: ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ë‚˜ìš”?
4. **ì‹¤ì œ ë™ì‘**: ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜ìš”?
5. **í™˜ê²½**: Node.js ë²„ì „, OS ë“±

### ê¸°ëŠ¥ ìš”ì²­

1. **ë¬¸ì œ ì„¤ëª…**: ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ì‹¶ë‚˜ìš”?
2. **ì œì•ˆí•˜ëŠ” í•´ê²°ì±…**: ì–´ë–¤ ê¸°ëŠ¥ì„ ì›í•˜ë‚˜ìš”?
3. **ëŒ€ì•ˆ**: ê³ ë ¤í•œ ë‹¤ë¥¸ ë°©ë²•ì´ ìˆë‚˜ìš”?
4. **ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸**: ê´€ë ¨ëœ ì˜ˆì‹œë‚˜ ì°¸ê³  ìë£Œ

### ì´ìŠˆ í…œí”Œë¦¿

```markdown
## ë²„ê·¸ ë¦¬í¬íŠ¸

### ì„¤ëª…
[ë²„ê·¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…]

### ì¬í˜„ ë‹¨ê³„
1. '...'ë¡œ ì´ë™
2. '...'ë¥¼ í´ë¦­
3. '...'ê¹Œì§€ ìŠ¤í¬ë¡¤
4. ì—ëŸ¬ í™•ì¸

### ì˜ˆìƒ ë™ì‘
[ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ ì„¤ëª…]

### ìŠ¤í¬ë¦°ìƒ·
[í•´ë‹¹ë˜ëŠ” ê²½ìš° ìŠ¤í¬ë¦°ìƒ· ì¶”ê°€]

### í™˜ê²½
- OS: [ì˜ˆ: macOS 14.0]
- Node.js: [ì˜ˆ: 20.10.0]
- ë¸Œë¼ìš°ì €: [ì˜ˆ: Chrome 120]
```

## ğŸ”§ ê°œë°œ íŒ

### ë””ë²„ê¹…

```typescript
// í† í° ìŠ¤íŠ¸ë¦¼ í™•ì¸
const lexer = new Lexer(source);
const tokens = lexer.tokenize();
console.log(tokens.map(t => `${t.type}: ${t.value}`));

// AST í™•ì¸
const parser = new Parser(tokens);
const ast = parser.parse();
console.log(JSON.stringify(ast, null, 2));
```

### ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜

1. **Position vs Square**: `Position`ì€ `{ file, rank }` ê°ì²´, `Square`ëŠ” `"e4"` ë¬¸ìì—´
2. **Owner vs Player**: ê¸°ë¬¼ì˜ `owner`ì™€ í˜„ì¬ `turn`ì„ í˜¼ë™í•˜ì§€ ë§ˆì„¸ìš”
3. **Move ë³µì‚¬**: ì´ë™ì„ ìˆ˜ì •í•  ë•ŒëŠ” í•­ìƒ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í•˜ì„¸ìš”

## ğŸ“ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?

- GitHub Issuesì—ì„œ ì§ˆë¬¸í•´ì£¼ì„¸ìš”
- ê¸°ì¡´ ì´ìŠˆì™€ PRì„ ì°¸ê³ í•˜ì„¸ìš”

---

ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™
